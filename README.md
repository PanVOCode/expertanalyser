# Telegram Channel Analyzer

–ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä Telegram-–∫–∞–Ω–∞–ª–æ–≤ —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π AI –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –∫–æ–º–ø–µ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –∞–≤—Ç–æ—Ä–æ–≤.

## 1. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

#### config.py - –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞

```python
# –î–∞–Ω–Ω—ã–µ Telegram API
api_id = "25375051"
api_hash = "21e559fec16a53d6aa423eda559147d5"

# –ü–µ—Ä–∏–æ–¥ –∞–Ω–∞–ª–∏–∑–∞ (—Å —É—á–µ—Ç–æ–º —á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞ UTC)
start_date = datetime(2025, 1, 1, tzinfo=timezone.utc)
end_date = datetime(2025, 12, 31, 23, 59, 59, tzinfo=timezone.utc)

# –£—á–∏—Ç—ã–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ
only_text = True

# –¢–∏–ø —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
SORT_BY_VIRALITY = 'default'  # 'default', 'coefficient', 'engagement', 'forwards', 'reactions', 'views', 'date'

# –ö–∞–∫–∏–µ –≤–∏–¥—ã —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤–∫–ª—é—á–∞—Ç—å
stat_tables = {
    'default': True,        # –û—Å–Ω–æ–≤–Ω–∞—è –≤–∏—Ä–∞–ª—å–Ω–æ—Å—Ç—å
    'coefficient': False,   # –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –≤–∏—Ä–∞–ª—å–Ω–æ—Å—Ç–∏
    'engagement': False,    # –í–∏—Ä–∞–ª—å–Ω–æ—Å—Ç—å –≤–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç–∏
    'forwards': False,      # –ü–æ –ø–µ—Ä–µ—Å—ã–ª–∫–∞–º
    'reactions': False,     # –ü–æ —Ä–µ–∞–∫—Ü–∏—è–º
    'views': False,         # –ü–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞–º
    'date': False           # –ü–æ –¥–∞—Ç–µ
}

# –°–æ–∑–¥–∞–≤–∞—Ç—å –ª–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
CREATE_MULTIPLE_SORTED_FILES = True

# –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ª–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –≤–∏—Ä–∞–ª—å–Ω–æ—Å—Ç–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
SHOW_VIRALITY_STATISTICS = True

# –°–æ–∑–¥–∞–≤–∞—Ç—å –ª–∏ —Å–≤–æ–¥–Ω—ã–π –æ—Ç—á–µ—Ç –ø–æ –≤–∏—Ä–∞–ª—å–Ω–æ—Å—Ç–∏
CREATE_VIRALITY_SUMMARY_REPORT = True
```

#### aiconfig.py - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ AI (DeepSeek —á–µ—Ä–µ–∑ OpenRouter)

```python
# –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º API –∫–ª—é—á–∏ –∏–∑ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
try:
    from api_keys import get_deepseek_api_key
    DEEPSEEK_API_KEY = get_deepseek_api_key()
except ImportError:
    # Fallback –µ—Å–ª–∏ —Ñ–∞–π–ª api_keys.py –Ω–µ –Ω–∞–π–¥–µ–Ω
    import os
    DEEPSEEK_API_KEY = os.getenv('DEEPSEEK_API_KEY', "")

# –ë–∞–∑–æ–≤—ã–π URL API OpenRouter
DEEPSEEK_BASE_URL = "https://openrouter.ai/api"

# –ú–æ–¥–µ–ª—å DeepSeek —á–µ—Ä–µ–∑ OpenRouter
DEEPSEEK_MODEL = "deepseek/deepseek-chat"

# –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
DEFAULT_MAX_TOKENS = 1000
DEFAULT_TEMPERATURE = 0.7
REQUEST_TIMEOUT = 30

# –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ —Ñ–∞–π–ª–∞ system_prompt.txt
DEFAULT_SYSTEM_PROMPT = load_system_prompt()
```

#### api_keys.py - API –∫–ª—é—á–∏ (–Ω–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è Git)

–§–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ API –∫–ª—é—á–∏ –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤. **–î–æ–±–∞–≤–ª–µ–Ω –≤ .gitignore –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.**

```python
# Telegram API
TELEGRAM_API_ID = "–≤–∞—à_telegram_api_id"
TELEGRAM_API_HASH = "–≤–∞—à_telegram_api_hash"

# DeepSeek API —á–µ—Ä–µ–∑ OpenRouter
DEEPSEEK_API_KEY = "–≤–∞—à_deepseek_api_key"

# –î—Ä—É–≥–∏–µ API –∫–ª—é—á–∏...
```

**–î–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**
1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `api_keys_example.py` –∫–∞–∫ `api_keys.py`
2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Å–≤–æ–∏–º–∏ API –∫–ª—é—á–∞–º–∏
3. –§–∞–π–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è Git'–æ–º

#### system_prompt.txt - –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è AI

–§–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –∫–æ–º–ø–µ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –∞–≤—Ç–æ—Ä–æ–≤ –∫–∞–Ω–∞–ª–æ–≤. –í–∫–ª—é—á–∞–µ—Ç:
- –°–ø–∏—Å–æ–∫ –∏–∑ 41 –±–∏–∑–Ω–µ—Å-–∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏ –¥–ª—è –æ—Ü–µ–Ω–∫–∏
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —ç–∫—Å–ø–µ—Ä—Ç–∞ vs –∏–Ω—Ñ–æ—Ü—ã–≥–∞–Ω–∞
- –§–æ—Ä–º–∞—Ç JSON-–æ—Ç–≤–µ—Ç–∞
```

### –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

#### 1. –ê–Ω–∞–ª–∏–∑ –æ–¥–Ω–æ–≥–æ –∫–∞–Ω–∞–ª–∞

```bash
python files/code/analyse.py
```

–§—É–Ω–∫—Ü–∏—è `analyse(channel_url)` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ –∫–∞–Ω–∞–ª –∏:

- –°–æ–∑–¥–∞–µ—Ç –ø–∞–ø–∫—É `results/all_folders/{channel_name}/`
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç `posts.xlsx` —Å –¥–∞–Ω–Ω—ã–º–∏
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—Å—Ç —Ç–æ–ø-5 –ø–æ—Å—Ç–æ–≤ –¥–ª—è AI –∞–Ω–∞–ª–∏–∑–∞

#### 2. –ü–∞–∫–µ—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∫–∞–Ω–∞–ª–æ–≤ –∏–∑ CSV

```bash
python files/code/main.py
```

–ß–∏—Ç–∞–µ—Ç `files/tgstat.csv` –∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–∞–Ω–∞–ª–∞:

- –í—ã–∑—ã–≤–∞–µ—Ç `analyse(channel_url)`
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–æ–ø-5 –ø–æ—Å—Ç–æ–≤ –≤ AI
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ `results/analysis_results.csv`

–§–æ—Ä–º–∞—Ç `files/tgstat.csv`:

```csv
column1;column2;https://t.me/channel_name;column4
```

#### 3. AI –∞–Ω–∞–ª–∏–∑ —É–∂–µ —Å–∫–∞—á–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

```bash
python files/code/analyze_all_folders.py
```

–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –ø–∞–ø–∫–∏ –≤ `results/all_folders/`:

- –ß–∏—Ç–∞–µ—Ç `posts.xlsx` –∏–∑ –∫–∞–∂–¥–æ–π –ø–∞–ø–∫–∏
- –ò–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–æ–ø-5 –ø–æ—Å—Ç–æ–≤
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ AI –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ `results/analysis_results_all_folders.csv`

#### 4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ AI API

```bash
python files/code/test_deepseek.py
```

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ DeepSeek API —á–µ—Ä–µ–∑ OpenRouter.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
master/analyser/
‚îú‚îÄ‚îÄ files/                       # –í—Å–µ —Ñ–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ code/                    # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ analyse.py           # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∞–Ω–∞–ª–∏–∑–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ai.py                # –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å AI
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.py              # –ü–∞–∫–µ—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∏–∑ CSV
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ analyze_all_folders.py # AI –∞–Ω–∞–ª–∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ test_deepseek.py     # –¢–µ—Å—Ç AI API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ test_api_alternative.py # –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Ç–µ—Å—Ç API
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ test_api_simple.py   # –ü—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç API
‚îÇ   ‚îú‚îÄ‚îÄ config/                  # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config.py            # –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–Ω–∞–ª–∏–∑–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ aiconfig.py          # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ AI
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api_keys.py          # API –∫–ª—é—á–∏ (–Ω–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è Git)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api_keys_example.py  # –ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ API –∫–ª—é—á–µ–π
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ system_prompt.txt    # –°–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è AI
‚îÇ   ‚îú‚îÄ‚îÄ docs/                    # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ API_SETUP.md         # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SETUP.md             # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ
‚îÇ   ‚îî‚îÄ‚îÄ tgstat.csv               # –°–ø–∏—Å–æ–∫ –∫–∞–Ω–∞–ª–æ–≤ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
‚îú‚îÄ‚îÄ results/                     # –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞
‚îÇ   ‚îú‚îÄ‚îÄ all_folders/             # –ü–∞–ø–∫–∞ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –∞–Ω–∞–ª–∏–∑–∞ –∫–∞–Ω–∞–ª–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ channel1/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ posts.xlsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ posts_sorted_by_*.xlsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ virality_summary_report.xlsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ channel2/
‚îÇ   ‚îú‚îÄ‚îÄ analysis_results.csv     # –†–µ–∑—É–ª—å—Ç–∞—Ç—ã AI –∞–Ω–∞–ª–∏–∑–∞
‚îÇ   ‚îú‚îÄ‚îÄ analysis_results_all_folders.csv # –†–µ–∑—É–ª—å—Ç–∞—Ç—ã AI –∞–Ω–∞–ª–∏–∑–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ *.xlsx                   # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ—Ç—á–µ—Ç—ã
‚îú‚îÄ‚îÄ README.md                    # –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ QUICK_START.md               # –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
‚îî‚îÄ‚îÄ .gitignore                   # –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ —Ñ–∞–π–ª—ã
```

## 2. –û–ø–∏—Å–∞–Ω–∏–µ —Ñ–æ—Ä–º—É–ª —Ä–∞—Å—á–µ—Ç–∞ –∏ –ª–æ–≥–∏–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### –ú–µ—Ç—Ä–∏–∫–∏ –≤–∏—Ä–∞–ª—å–Ω–æ—Å—Ç–∏

#### 1. ER% (Engagement Rate)

```
ER% = (–†–µ–∞–∫—Ü–∏–∏ + –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ + –ü–µ—Ä–µ—Å—ã–ª–∫–∏) / –ü—Ä–æ—Å–º–æ—Ç—Ä—ã √ó 100
```

#### 2. –û—Å–Ω–æ–≤–Ω–∞—è –≤–∏—Ä–∞–ª—å–Ω–æ—Å—Ç—å

```
–í–∏—Ä–∞–ª—å–Ω–æ—Å—Ç—å = log1p(–ü—Ä–æ—Å–º–æ—Ç—Ä—ã) √ó log1p(–†–µ–∞–∫—Ü–∏–∏ + –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ + –ü–µ—Ä–µ—Å—ã–ª–∫–∏) √ó ER%
```

#### 3. –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –≤–∏—Ä–∞–ª—å–Ω–æ—Å—Ç–∏

```
–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –≤–∏—Ä–∞–ª—å–Ω–æ—Å—Ç–∏ = (–†–µ–∞–∫—Ü–∏–∏ + –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ + –ü–µ—Ä–µ—Å—ã–ª–∫–∏) / log1p(–ü—Ä–æ—Å–º–æ—Ç—Ä—ã)
```

#### 4. –í–∏—Ä–∞–ª—å–Ω–æ—Å—Ç—å –≤–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç–∏

```
–í–∏—Ä–∞–ª—å–Ω–æ—Å—Ç—å –≤–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç–∏ = log1p(–†–µ–∞–∫—Ü–∏–∏ + –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ + –ü–µ—Ä–µ—Å—ã–ª–∫–∏) √ó ER%
```

### –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

#### –≠—Ç–∞–ø 1: –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Telegram

1. **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ API**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Telethon –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ Telegram API
2. **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ username**: –ò–∑–≤–ª–µ–∫–∞–µ—Ç –∏–º—è –∫–∞–Ω–∞–ª–∞ –∏–∑ URL (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–∑ `https://t.me/sellerx` –ø–æ–ª—É—á–∞–µ—Ç `sellerx`)
3. **–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π**: –ò—Ç–µ—Ä–∏—Ä—É–µ—Ç—Å—è –ø–æ —Å–æ–æ–±—â–µ–Ω–∏—è–º –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–º –≤—Ä–µ–º–µ–Ω–Ω–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ
4. **–°–±–æ—Ä –º–µ—Ç—Ä–∏–∫**:
   - –ü—Ä–æ—Å–º–æ—Ç—Ä—ã (`views_count`)
   - –†–µ–∞–∫—Ü–∏–∏ (–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ –∏ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ)
   - –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ (`comments_count`)
   - –ü–µ—Ä–µ—Å—ã–ª–∫–∏ (`forwards_count`)

#### –≠—Ç–∞–ø 2: –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö

1. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è**: –ï—Å–ª–∏ `only_text = True`, –æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
2. **–¢–∏–ø–∏–∑–∞—Ü–∏—è**: –ü—Ä–∏–≤–æ–¥–∏—Ç —á–∏—Å–ª–æ–≤—ã–µ —Å—Ç–æ–ª–±—Ü—ã –∫ —Ç–∏–ø—É `float`
3. **–†–∞—Å—á–µ—Ç –º–µ—Ç—Ä–∏–∫**: –í—ã—á–∏—Å–ª—è–µ—Ç –≤—Å–µ –≤–∏–¥—ã –≤–∏—Ä–∞–ª—å–Ω–æ—Å—Ç–∏
4. **–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞**: –°–æ—Ä—Ç–∏—Ä—É–µ—Ç –ø–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É —Ç–∏–ø—É –≤–∏—Ä–∞–ª—å–Ω–æ—Å—Ç–∏
5. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏—Ç–æ–≥–æ–≤**: –î–æ–±–∞–≤–ª—è–µ—Ç —Å—Ç—Ä–æ–∫–∏ "–ò—Ç–æ–≥–æ" –∏ "–í —Å—Ä–µ–¥–Ω–µ–º –Ω–∞ –ø–æ—Å—Ç"

#### –≠—Ç–∞–ø 3: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

1. **–°–æ–∑–¥–∞–Ω–∏–µ –ø–∞–ø–∫–∏**: `all_folders/{channel_name}/`
2. **–û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª**: `posts.xlsx` —Å –ø–æ–ª–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
3. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã**: –ï—Å–ª–∏ `CREATE_MULTIPLE_SORTED_FILES = True`
   - `posts_sorted_by_default.xlsx`
   - `posts_sorted_by_coefficient.xlsx`
   - `posts_sorted_by_engagement.xlsx`
   - –∏ —Ç.–¥.
4. **–°–≤–æ–¥–Ω—ã–π –æ—Ç—á–µ—Ç**: –ï—Å–ª–∏ `CREATE_VIRALITY_SUMMARY_REPORT = True`
   - `virality_summary_report.xlsx`

#### –≠—Ç–∞–ø 4: AI –∞–Ω–∞–ª–∏–∑ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

1. **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–æ–ø-5 –ø–æ—Å—Ç–æ–≤**: –ë–µ—Ä–µ—Ç 5 —Å–∞–º—ã—Ö –≤–∏—Ä—É—Å–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤
2. **–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –°–æ–∑–¥–∞–µ—Ç —Ç–µ–∫—Å—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
   ```
   —Ç–µ–∫—Å—Ç 1:
   [—Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –ø–æ—Å—Ç–∞]

   —Ç–µ–∫—Å—Ç 2:
   [—Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –ø–æ—Å—Ç–∞]
   ...
   ```
3. **–û—Ç–ø—Ä–∞–≤–∫–∞ –≤ AI**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç DeepSeek —á–µ—Ä–µ–∑ OpenRouter
4. **–ü–∞—Ä—Å–∏–Ω–≥ –æ—Ç–≤–µ—Ç–∞**: –ò–∑–≤–ª–µ–∫–∞–µ—Ç JSON —Å –ø–æ–ª—è–º–∏ `—ç–∫—Å–ø–µ—Ä—Ç` –∏ `–∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏`
5. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ**: –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –≤ CSV —Ñ–∞–π–ª

### –¢–∏–ø—ã —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏

- **default**: –ü–æ –æ—Å–Ω–æ–≤–Ω–æ–π –≤–∏—Ä–∞–ª—å–Ω–æ—Å—Ç–∏
- **coefficient**: –ü–æ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—É –≤–∏—Ä–∞–ª—å–Ω–æ—Å—Ç–∏
- **engagement**: –ü–æ –≤–∏—Ä–∞–ª—å–Ω–æ—Å—Ç–∏ –≤–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç–∏
- **forwards**: –ü–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –ø–µ—Ä–µ—Å—ã–ª–æ–∫
- **reactions**: –ü–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É —Ä–µ–∞–∫—Ü–∏–π
- **views**: –ü–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤
- **date**: –ü–æ –¥–∞—Ç–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

1. **API –æ—à–∏–±–∫–∏**: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `try-except`
2. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥–∞–Ω–Ω—ã—Ö**: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞
3. **–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Å—Å—ã–ª–∫–∏**: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Ñ–æ—Ä–º–∞—Ç URL
4. **–°–µ—Ç–µ–≤—ã–µ –æ—à–∏–±–∫–∏**: –¢–∞–π–º–∞—É—Ç—ã –∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏
5. **JSON –ø–∞—Ä—Å–∏–Ω–≥**: Fallback –Ω–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—ã—Ä–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ AI

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

1. **–ß–∞—Å–æ–≤—ã–µ –ø–æ—è—Å–∞**: –í—Å–µ –¥–∞—Ç—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤ UTC
2. **–†–µ–∞–∫—Ü–∏–∏**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∞–∫ –Ω–æ–≤—ã—Ö, —Ç–∞–∫ –∏ —Å—Ç–∞—Ä—ã—Ö –≤–µ—Ä—Å–∏–π Telethon
3. **–ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ**: –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∫–∞–Ω–∞–ª–∞
4. **–ü–∞—É–∑—ã**: 1.5 —Å–µ–∫—É–Ω–¥—ã –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ –¥–ª—è —Å–æ–±–ª—é–¥–µ–Ω–∏—è –ª–∏–º–∏—Ç–æ–≤ API
5. **–õ–∏–º–∏—Ç—ã**: –ú–∞–∫—Å–∏–º—É–º 1000 –∫–∞–Ω–∞–ª–æ–≤ –∑–∞ –æ–¥–∏–Ω –∑–∞–ø—É—Å–∫

## üõ°Ô∏è –°–∏—Å—Ç–µ–º–∞ –∑–∞—â–∏—Ç—ã –¥–∞–Ω–Ω—ã—Ö

### –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∑–∞—â–∏—Ç—ã –æ—Ç –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–∏ –∞–Ω–∞–ª–∏–∑–∞:

#### ‚úÖ Checkpoint —Å–∏—Å—Ç–µ–º–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤ `results/analysis_checkpoint.json`
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å –º–µ—Å—Ç–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

#### ‚úÖ –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∫–∞–∂–¥—ã–µ 10 –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤
- –ê—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞–ø–∏—Å–∏ —Ñ–∞–π–ª–æ–≤
- Backup —Ñ–∞–π–ª—ã –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è

#### ‚úÖ Graceful shutdown
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è (Ctrl+C, SIGTERM)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö

#### ‚úÖ Backup —Å–∏—Å—Ç–µ–º–∞
- –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã—Ö –∫–æ–ø–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ backup'–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö backup'–æ–≤

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∞–Ω–∞–ª–∏–∑–∞
python files/code/analysis_controller.py status

# –°–æ–∑–¥–∞–Ω–∏–µ backup
python files/code/analysis_controller.py backup --name my_backup

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ backup
python files/code/analysis_controller.py restore --name my_backup

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∞–Ω–∞–ª–∏–∑–∞
python files/code/analysis_controller.py stats

# –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö backup'–æ–≤
python files/code/analysis_controller.py list-backups
```

### –°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

1. **–ü—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ –∞–Ω–∞–ª–∏–∑–∞**: –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å
2. **–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫**: –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—Å—è —Å –º–µ—Å—Ç–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
3. **–°–æ–∑–¥–∞–Ω–∏–µ backup**: –ü–µ—Ä–µ–¥ –≤–∞–∂–Ω—ã–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
4. **–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ**: –ü–æ—Å–ª–µ –ø—Ä–æ–±–ª–µ–º –∏–ª–∏ –æ—à–∏–±–æ–∫

–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: [DATA_PROTECTION.md](DATA_PROTECTION.md)
